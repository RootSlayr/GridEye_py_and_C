#include<stdio.h>
 
float arr_new[8][8][8]={0};
void getMoving_avg(float arr[8][8], int result[8][8],int position)
{
  position = position%8;
  for (int i=0; i<8;i++)
  {
    for (int j=0; j<8; j++)
    {
      result[i][j] = result[i][j] - arr_new[position][i][j] + arr[i][j];
    }
  }
  for(int i=0; i<8; i++)
  {
    for(int j=0; j<8; j++)
    {
      arr_new[position][i][j] = arr[i][j];
    }
  }
  return;
}

void main()
{
    /*int arr[8][8] = {{30.75, 30.0, 31.0, 31.0, 31.0, 30.25, 31.0, 30.5}, 
           {30.5, 30.75, 30.5, 30.75, 30.5, 30.75, 30.25, 30.0}, 
           {30.75, 30.5, 30.5, 30.5, 30.75, 30.75, 31.0, 31.25}, 
           {31.75, 30.5, 30.75, 30.5, 30.5, 30.75, 30.75, 30.0}, 
           {30.75, 30.5, 30.25, 31.0, 30.75, 30.5, 30.75, 30.25}, 
           {31.0, 32.5, 30.25, 30.5, 30.25, 30.25, 30.0, 30.0}, 
           {31.0, 31.5, 30.5, 30.25, 30.75, 30.5, 30.0, 30.5}, 
           {31.0, 30.5, 30.25, 30.25, 30.0, 30.25, 29.75, 30.5}};*/
    float arr1[10][8][8] = {{{30.75, 30.0, 31.0, 31.0, 31.0, 30.25, 31.0, 30.5}, {30.5, 30.75, 30.5, 30.75, 30.5, 30.75, 30.25, 30.0}, {30.75, 30.5, 30.5, 30.5, 30.75, 30.75, 31.0, 31.25}, {31.75, 30.5, 30.75, 30.5, 30.5, 30.75, 30.75, 30.0}, {30.75, 30.5, 30.25, 31.0, 30.75, 30.5, 30.75, 30.25}, {31.0, 32.5, 30.25, 30.5, 30.25, 30.25, 30.0, 30.0}, {31.0, 31.5, 30.5, 30.25, 30.75, 30.5, 30.0, 30.5}, {31.0, 30.5, 30.25, 30.25, 30.0, 30.25, 29.75, 30.5}}
                        ,{{31.0, 30.0, 30.75, 30.75, 30.5, 30.5, 30.75, 30.0}, {30.75, 30.5, 30.5, 31.0, 30.75, 30.5, 30.75, 30.5}, {30.25, 30.5, 30.5, 31.0, 30.5, 30.75, 30.75, 30.5}, {30.75, 30.5, 30.75, 30.5, 30.75, 30.75, 31.0, 30.25}, {30.75, 31.5, 30.5, 30.5, 30.5, 30.25, 30.5, 30.5}, {31.25, 32.0, 30.75, 30.75, 30.25, 30.5, 30.25, 30.5}, {31.5, 31.25, 31.25, 30.75, 31.0, 30.5, 29.75, 30.5}, {30.5, 30.25, 30.0, 30.75, 30.75, 30.0, 30.5, 29.25}}
                        ,{{30.75, 30.0, 30.5, 31.0, 30.5, 30.25, 30.25, 30.75}, {30.0, 30.25, 30.5, 30.5, 30.5, 30.75, 31.0, 29.5}, {30.5, 30.25, 30.25, 30.5, 30.75, 30.5, 30.25, 30.0}, {30.75, 30.0, 30.75, 30.5, 29.75, 30.75, 30.0, 29.25}, {30.0, 30.5, 29.75, 30.75, 30.5, 30.0, 30.25, 30.0}, {31.0, 32.5, 30.75, 30.5, 30.0, 30.5, 30.0, 30.25}, {31.25, 30.75, 30.0, 29.75, 30.75, 31.25, 29.75, 30.0}, {30.5, 30.25, 30.0, 30.25, 29.25, 30.0, 29.25, 29.0}}
                        ,{{31.25, 30.5, 30.75, 31.0, 30.75, 30.25, 31.0, 30.75}, {30.75, 30.0, 30.5, 30.75, 30.75, 30.5, 31.0, 30.25}, {30.5, 30.25, 30.25, 31.0, 30.75, 30.5, 31.25, 30.25}, {30.75, 30.75, 30.5, 30.5, 30.25, 31.25, 30.5, 30.0}, {31.0, 31.0, 30.5, 30.75, 31.0, 30.0, 31.25, 30.25}, {30.75, 32.75, 30.75, 31.0, 30.25, 30.75, 30.25, 30.0}, {31.0, 31.25, 31.25, 30.5, 30.75, 31.25, 29.75, 30.0}, {30.75, 30.75, 29.75, 30.75, 30.25, 30.5, 30.0, 30.75}}
                        ,{{31.25, 30.25, 30.75, 31.25, 30.75, 30.5, 31.0, 30.75}, {31.0, 31.0, 31.25, 30.75, 31.0, 30.75, 30.75, 30.25}, {30.25, 30.5, 30.5, 31.0, 30.25, 30.5, 31.0, 31.5}, {31.25, 30.25, 30.75, 31.0, 30.25, 30.5, 30.5, 29.75}, {31.0, 30.75, 30.5, 31.25, 30.5, 30.0, 30.75, 30.5}, {31.0, 32.75, 30.75, 31.0, 30.0, 30.25, 31.25, 29.75}, {31.0, 31.75, 31.75, 30.5, 30.75, 30.25, 30.0, 30.25}, {30.75, 30.25, 30.75, 30.75, 30.0, 29.75, 30.0, 29.75}}
                        ,{{30.75, 30.5, 30.75, 30.75, 31.0, 30.25, 31.25, 31.25}, {30.75, 30.75, 31.0, 31.25, 30.75, 30.75, 30.75, 30.75}, {30.25, 30.75, 30.75, 30.75, 30.5, 30.5, 30.5, 30.5}, {31.25, 30.0, 31.0, 30.5, 30.25, 31.0, 30.25, 30.0}, {31.0, 31.25, 30.75, 30.75, 30.75, 30.5, 31.0, 30.5}, {30.75, 33.0, 30.5, 30.75, 31.0, 30.5, 30.75, 30.0}, {31.0, 30.25, 31.0, 30.0, 30.75, 30.75, 30.0, 30.5}, {31.0, 30.0, 30.25, 30.75, 30.0, 30.5, 30.5, 30.0}}
                        ,{{31.25, 30.0, 30.25, 31.5, 30.5, 30.0, 31.0, 30.75}, {30.75, 31.25, 30.75, 30.75, 31.0, 30.5, 30.75, 30.5}, {31.0, 30.5, 30.5, 31.0, 30.5, 30.75, 31.0, 30.0}, {31.5, 30.5, 31.0, 30.5, 30.25, 31.0, 30.75, 30.0}, {31.0, 30.75, 30.75, 30.75, 30.75, 30.5, 31.0, 30.75}, {31.0, 32.75, 30.75, 30.25, 30.25, 30.25, 31.0, 29.75}, {31.0, 31.0, 30.5, 30.25, 30.75, 31.0, 29.75, 30.0}, {30.75, 30.5, 30.25, 30.75, 30.25, 30.0, 29.75, 29.5}}
                        ,{{31.25, 30.0, 30.5, 30.5, 30.0, 30.25, 30.25, 30.25}, {30.5, 30.5, 30.5, 30.75, 30.5, 30.5, 30.25, 30.25}, {30.25, 30.75, 30.0, 30.5, 30.25, 30.0, 30.25, 30.25}, {31.75, 30.25, 31.0, 30.5, 29.75, 30.75, 30.25, 30.0}, {30.25, 31.0, 30.25, 30.25, 30.75, 30.25, 30.75, 30.0}, {30.25, 32.5, 30.5, 30.75, 29.75, 30.25, 29.75, 29.5}, {30.5, 31.0, 30.75, 30.5, 30.75, 30.0, 30.0, 30.25}, {30.75, 30.0, 30.25, 30.25, 30.25, 29.5, 29.75, 29.25}}
                        ,{{31.0, 30.5, 30.5, 31.25, 30.75, 30.75, 31.0, 30.5}, {31.0, 31.0, 30.5, 31.0, 30.75, 30.5, 31.0, 30.5}, {30.5, 30.5, 30.75, 31.0, 30.75, 30.75, 30.5, 30.5}, {30.75, 30.5, 30.5, 31.0, 30.25, 31.0, 30.25, 30.0}, {30.75, 31.0, 30.0, 30.75, 30.5, 30.5, 30.75, 30.5}, {31.25, 32.75, 30.25, 30.5, 30.25, 29.75, 30.75, 30.25}, {31.25, 31.25, 30.5, 30.25, 30.75, 30.5, 30.25, 29.75}, {30.5, 29.75, 30.5, 30.75, 30.25, 30.5, 30.25, 30.0}}
                        ,{{31.25, 30.25, 30.0, 31.25, 30.5, 31.0, 30.25, 30.0}, {30.0, 30.75, 30.75, 31.0, 30.5, 30.75, 31.0, 30.75}, {30.75, 30.5, 30.0, 31.25, 30.5, 31.0, 30.75, 30.5}, {31.75, 30.5, 31.25, 30.25, 30.5, 31.25, 31.0, 30.5}, {31.0, 31.0, 30.5, 30.75, 30.5, 30.25, 30.25, 30.5}, {31.5, 32.75, 30.5, 31.25, 30.0, 30.5, 30.5, 30.25}, {31.0, 31.75, 31.25, 30.25, 30.75, 31.25, 30.75, 30.0}, {30.75, 29.75, 30.75, 30.75, 30.25, 30.5, 30.25, 29.75}}
    };
    int m_avg[8][8] = {0};
    for(int i=0; i<10; i++)
    {
        getMoving_avg(arr1[i],m_avg, i);
    }
    printf("\nMoving Average\n");
    for (int i=0; i<8;i++)
    {
        for (int j=0; j<8; j++)
        {
        printf("%d ", m_avg[i][j]/8);
        }
    printf("\n");
    }
    printf("\n\nTest data\n");
    for (int i=0; i<8;i++)
    {
        for (int j=0; j<8; j++)
        {
            printf("%.2f ", arr1[1][i][j]);
        }
        printf("\n");
    }
}
